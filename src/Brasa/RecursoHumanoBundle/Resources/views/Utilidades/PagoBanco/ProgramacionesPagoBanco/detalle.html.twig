{% extends '::base.html.twig' %}
{% block content %}
    <div class="container">
        <div class="page-header">
            <h3>Detalle programación pago</h3>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">Información de la programación de pago</div>
            <div class="panel-body">
                <table width="100%" class="table table-condensed table-bordered">
                    <tr>
                        <td class="titulo">CÓDIGO:</td>
                        <td class="td-in-well">{{ arProgramacionPago.codigoProgramacionpagoPk }}</td>
                        <td class="titulo">INCONSISTENCIAS:</td>
                        <td class="td-in-well">{{ arProgramacionPago.codigoProgramacionpagoPk }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">CENTRO COSTOS:</tD>
                        <td class="td-in-well">{{ arProgramacionPago.centroCostoRel.nombre }}</td>
                        <td class="titulo">PERIODO:</td>
                        <td class="td-in-well">{{ arProgramacionPago.centroCostoRel.periodoPagoRel.nombre }}</td>
                    </tr>
                    <tr>
                        <td class="titulo">PERIODO DESDE:</td>
                        <td class="td-in-well">{{ arProgramacionPago.fechaDesde|date('Y/m/d') }}</td>
                        <td class="titulo">GENERADO:</td>
                        <td class="td-in-well">{% if arProgramacionPago.estadoGenerado == 1 %} SI{% else %} NO {% endif %}</td>
                    </tr>
                    <tr>
                        <td class="titulo">PERIODO HASTA:</td>
                        <td class="td-in-well">{{ arProgramacionPago.fechaHasta|date('Y/m/d') }}</td>
                        <td class="titulo">PAGADO:</td>
                        <td class="td-in-well">{% if arProgramacionPago.estadoPagado == 1 %} SI{% else %} NO {% endif %}</td>
                    </tr>
                    <tr>
                        <td class="titulo">COMENTARIOS:</td>
                        <td class="td-in-well"></td>
                        <td class="titulo">NETO PAGAR:</td>
                        <td class="td-in-well">{{ arProgramacionPago.vrNeto | number_format(0, '.', ',') }}</td>
                    </tr>
                </table>
            </div>
        </div>
        {{ form_start(form, { 'attr': {'class': 'form-horizontal'} }) }}
        {{ form_errors(form) }}
            <table  class="table table-striped table-bordered table-condensed table-hover">
                <tr>
                    <th>{{ knp_pagination_sortable(arPagos, 'ID', 'CODIGO') }}</th>
                    <th>IDENTIFICACIÓN</th>
                    <th>EMPLEADO</th>
                    <th>N° CUENTA</th>
                    <th style="text-align: right">DÍAS</th>
                    <th>DESDE</th>
                    <th>HASTA</th>
                    <th style="text-align: right">VR. DEVENGADO</th>
                    <th style="text-align: right">VR. DEDUCCIONES</th>
                    <th style="text-align: right">VR. NETO PAGAR</th>
                    <th>EXPORTADO</th>
                    <th><input type="checkbox" name="ChkSeleccionarTodos" OnClick="ChequearTodos(this);"/></th>
                </tr>
                {% for arPagos in arPagos %}
                <tr>
                    <td><input type="hidden" name="LblCodigo[]" value="{{ arPagos.codigoPagoPk }}">{{ arPagos.codigoPagoPk }} </td>
                    <td>{{ arPagos.empleadoRel.numeroIdentificacion  }}</td>
                    <td>{{ arPagos.empleadoRel.nombreCorto  }}</td>
                    <td>{{ arPagos.empleadoRel.cuenta  }}</td>
                    <td>{{ arPagos.diasPeriodo  }}</td>
                    <td>{{ arPagos.fechaDesde|date('Y/m/d')  }}</td>
                    <td>{{ arPagos.fechaHasta|date('Y/m/d')  }}</td>
                    <td style="text-align: right">{{ arPagos.vrDevengado | number_format(0, '.', ',') }}</td>
                    <td style="text-align: right">{{ arPagos.vrDeducciones | number_format(0, '.', ',') }}</td>
                    <td style="text-align: right">{{ arPagos.vrNeto | number_format(0, '.', ',') }}</td>
                    <td>{% if arPagos.archivoExportadoBanco == 1 %} SI{% else %} NO {% endif %}</td>
                    <td><input type="checkbox" name="ChkSeleccionar[]" value="{{ arPagos.codigoPagoPk }}" /></td>
                </tr>
                {% endfor %}
            </table>

        {{ knp_pagination_render(arPagos) }}

        <div class="btn-toolbar" style="float:left">
            <div class="btn-group">
                <a class="btn btn-default btn-sm" href="{{ path('brs_rhu_utilidades_programaciones_pago_banco_lista') }}" style="float:left">Volver</a>
            </div>
        </div>
        <div class="btn-toolbar" style="float:right">
            <div class="btn-group">
                {{ form_widget(form.BtnGenerar, { 'attr': {'class': 'btn btn-default btn-sm'} }) }}
            </div>
        </div>
    </div>
       {{ form_rest(form) }}
    {{ form_end(form) }}
{% endblock %}
