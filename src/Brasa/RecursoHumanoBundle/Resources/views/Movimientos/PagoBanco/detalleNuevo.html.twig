{% extends '::base_sin_menu.html.twig' %}
{% block title %}Pago banco detalle nuevo - Soga App{% endblock %}
{% block content %}
<div class="container">
    {{ form_start(form, { 'attr': {'class': 'form-horizontal'} }) }}
    <h3>Pagos</h3>
    <br /><br />
    <ul class="nav nav-tabs">
        <li class="active"><a href="#pagos" data-toggle="tab">Pagos</a></li>
        <li><a href="#programaciones" data-toggle="tab">Programaciones pago</a></li>        
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="pagos">
            <!-- Menu Encabezado Movimiento -->
            <div id="pagos" style="width: 100%"><br>
                <table class="table table-striped table-bordered table-condensed table-hover">
                <tr>            
                    <th>CÓDIGO</th>
                    <th>TIPO</th>
                    <th>NÚMERO</th>
                    <th>CENTRO COSTO</th>
                    <th>EMPLEADO</th>    
                    <th>BANCO</th>
                    <th>CUENTA</th>
                    <th>DESDE</th>
                    <th>HASTA</th>
                    <th style="text-align: right">NETO</th>
                    <th><input type="checkbox" name="ChkSeleccionarTodos" OnClick="ChequearTodos(this);"/></th>
                </tr>        
                    {%for arPagos in arPagos %}
                       <tr>
                        <td>{{arPagos.codigoPagoPk }}</td>
                        <td>{{arPagos.programacionPagoRel.pagoTipoRel.nombre }}</td>
                        <td>{{arPagos.numero }}</td>
                        <td>{{arPagos.centroCostoRel.nombre }}</td>
                        <td>{{arPagos.empleadoRel.nombreCorto }}</td>
                        <td>{{arPagos.empleadoRel.bancoRel.nombre |default('') }}</td>
                        <td>{{arPagos.empleadoRel.cuenta |default('') }}</td>
                        <td>{{ arPagos.fechaDesde |date("Y/m/d")  }}</td>
                        <td>{{ arPagos.fechaHasta |date("Y/m/d")  }}</td>                                
                        <td style="text-align: right">{{ arPagos.vrNeto | number_format(2, '.', ',') }}</td>
                        <td><input type="checkbox" name="ChkSeleccionar[]" value="{{ arPagos.codigoPagoPk }}" /></td>
                    {%endfor%}
                    </tr>            
                </table> 
            </div>
        </div>
        <div class="tab-pane" id="programaciones">
                <!-- Menu Encabezado Movimiento -->
                <div id="programaciones" style="width: 100%"><br>
                <table class="table table-striped table-bordered table-condensed table-hover">
                <tr>            
                    <th>CÓDIGO</th>
                    <th>TIPO PAGO</th>
                    <th>CENTRO COSTO</th>
                    <th>DESDE</th>
                    <th>HASTA</th>
                    <th style="text-align: right">NETO</th>
                    <th></th>
                </tr>        
                    {%for arProgramacionesPago in arProgramacionesPago %}
                       <tr>
                        <td>{{arProgramacionesPago.codigoProgramacionPagoPk }}</td>
                        <td>{{arProgramacionesPago.pagoTipoRel.nombre }}</td>
                        <td>{{arProgramacionesPago.centroCostoRel.nombre }}</td>
                        <td>{{ arProgramacionesPago.fechaDesde |date("Y/m/d")  }}</td>
                        <td>{{ arProgramacionesPago.fechaHasta |date("Y/m/d")  }}</td>                                        
                        <td style="text-align: right">{{ arProgramacionesPago.vrNeto | number_format(2, '.', ',') }}</td>
                        <td><input type="checkbox" name="ChkSeleccionarProgramacion[]" value="{{ arProgramacionesPago.codigoProgramacionPagoPk }}" /></td>
                    {%endfor%}
                    </tr>            
                </table>
                </div>
                <div class="btn-toolbar" style="float: right">
                    <div class="btn-group">                                
                        {{ form_widget(form.BtnEliminar, { 'attr': {'class': 'btn btn-danger btn-sm'} }) }}
                    </div>  
                </div>
        </div>                        
    </div>       
    
    <div class="btn-toolbar" style="float: right">
        <div class="btn-group">                                
            {{ form_widget(form.BtnGuardar, { 'attr': {'class': 'btn btn-primary btn-sm'} }) }}
        </div>  
    </div>
    
    <br /><br />
    <blockquote>
        <p align="justify">El botón eliminar, sirve para quitar de la lista las programaciones que hayan sido pagadas individualmente, si quedo algún registro sin eliminar de una programación de pago, el sistema no dejara quitar la programación de la lista</p>
    </blockquote>    
    {{ form_end(form) }}
{% endblock %}