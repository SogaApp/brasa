{% extends '::base.html.twig' %}
{% block content %}
    <div class="container">
        <div class="page-header">
            <h3>Detalles del credito</h3>
        </div>

        {{ form_start(form, { 'attr': {'class': 'form-horizontal', 'novalidate': 'novalidate'} }) }}
        {{ form_errors(form) }}
        
        <div class="panel panel-default">
            <div class="panel-heading">Informacion del credito</div>
            <div class="panel-body">
                <table width="100%" class="table table-condensed table-bordered">
                    <tr>
                        <th class="td-label">CODIGO CREDITO:</th>
                        <td class="td-in-well">{{ arCreditos.codigoCreditoPk }}</td>
                        <th class="td-label">FECHA:</th>
                        <td class="td-in-well">{{ arCreditos.fecha |date("Y/m/d") }}</td>
                    </tr>
                    <tr>
                        <th class="td-label">EMPLEADO:</th>
                        <td class="td-in-well">{{ arCreditos.empleadoRel.nombreCorto }}</td>
                        <th class="td-label">CREDITO:</th>
                        <td class="td-in-well">{{ arCreditos.creditoTipoRel.nombre }}</td>
                    </tr>                    
                    <tr>
                        <th class="td-label">VALOR CREDITO:</th>
                        <td class="td-in-well" align="right">{{ arCreditos.vrPagar | number_format(2, '.', ',')}}</td>
                        <th class="td-label">VALOR CUOTA:</th>
                        <td class="td-in-well" align="right">{{ arCreditos.vrCuota | number_format(2, '.', ',')}}</td>
                    </tr>
                    <tr>
                        <th class="td-label">NUMERO CUOTAS:</th>
                        <td class="td-in-well">{{ arCreditos.numeroCuotas }}</td>
                        <th class="td-label">CUOTA ACTUAL:</th>
                        <td class="td-in-well">{{ arCreditos.numeroCuotaActual }}</td>
                    </tr>
                    <tr>
                        <th class="td-label">SALDO:</th>
                        <td class="td-in-well" align="right">{{ arCreditos.saldo | number_format(2, '.', ',')}}</td>
                        <th class="td-label">PAGADO:</th>
                        <td {% if arCreditos.estadoPagado == 1 %} class="success">SI{% else %} <td class="danger"> NO {% endif %}</td>
                    </tr>
                    <tr>
                        <th class="td-label">SALDO TEMPORAL:</th>
                        <td class="td-label" align="right">{{ arCreditos.saldoTotal | number_format(2, '.', ',')}}</td>
                        <th class="td-label">APROBADO:</th>
                        <td {% if arCreditos.aprobado == 0 %} class="danger"> NO {% else %} <td class="success"> SI {% endif %} </td>
                    </tr>
                    <tr>
                        <th class="td-label">TIPO PAGO:</th>
                        <td class="td-label">{{ arCreditos.tipoPago }}</td>
                        <th class="td-label">SUSPENDIDO:</th>
                        <td {% if arCreditos.estadoSuspendido == 0 %} class="danger"> NO {% else %} <td class="success"> SI {% endif %} </td>
                    </tr>
                    <tr>
                        <th>COMENTARIOS:</th>
                        <td class="td-label">{{ arCreditos.comentarios }}</td>
                        <th class="td-label">SEGURO:</th>
                        <td class="td-label" align="right">{{ arCreditos.seguro | number_format(2, '.', ',')}}</td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="btn-group">
            {{ form_widget(form.BtnImprimir, { 'attr': {'class': 'btn btn-default btn-sm'} }) }}
        </div>
        <br><br>
        <div class="panel panel-default">

                <table  class="table table-striped table-bordered table-condensed table-hover">
                    <tr>
                        <th>CODIGO PAGO</th>
                        <th>TIPO PAGO</th>
                        <th style="text-align: right">VR. PAGO</th>
                        <th>PERIODO DESDE</th>
                        <th>PERIODO HASTA</th>
                        <th>FECHA PAGO</th>
                    </tr>
                    {% for arCreditoPago in arCreditoPago %}
                        <tr>
                            <td>{{ arCreditoPago.codigoPagoCreditoPk  }}</td>
                            <td>{{ arCreditoPago.tipoPago  }}</td>
                            <td style="text-align: right">{{ arCreditoPago.VrCuota | number_format(2, '.', ',') }}</td>
                            <td>{{ arCreditoPago.pagoRel.fechaDesde | default('') |date("Y/m/d")  }}</td>
                            <td>{{ arCreditoPago.pagoRel.fechaHasta | default('') |date("Y/m/d") }}</td>
                            <td>{{ arCreditoPago.fechaPago |date("Y/m/d")  }}</td>
                        </tr>
                    {% endfor %}
                </table>
        </div>
        <div class="btn-toolbar" style="float: right">
            <div class="btn-toolbar" style="float: right">
                <div class="btn-group">
                    {% if arCreditos.aprobado == 0 or arCreditos.estadoPagado == 1 %} <a class="btn btn-default btn-sm" href="">Nuevo</a> {% else %}
                    <a class="btn btn-default btn-sm" href="javascript:abrirVentana3('{{ path('brs_rhu_credito_nuevo_detalle', { 'codigoCreditoPk': arCreditos.codigoCreditoPk}) }}', 'AgregarCredito', 600, 900)" style="float:left">Nuevo</a>
                    {% endif%}
                                            
                </div>
            </div>
        </div>
            
        <div class="btn-toolbar" style="float:left">
            <div class="btn-group">
                <a class="btn btn-default" href="{{ path('brs_rhu_creditos_lista') }}" style="float:left">Volver</a>
            </div>
        </div>
        <br /><br />
        {{ form_rest(form) }}
        {{ form_end(form) }}
    </div>
{% endblock %}
