<?php

namespace Brasa\RecursoHumanoBundle\Repository;

use Doctrine\ORM\EntityRepository;

/**
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class RhuSeguridadSocialPeriodoRepository extends EntityRepository {
    public function listaDQL() {        
            $em = $this->getEntityManager();
            $dql   = "SELECT p FROM BrasaRecursoHumanoBundle:RhuSeguridadSocialPeriodo p WHERE p.codigoSeguridadSocialPeriodoPk <> 0";
            return $dql;
        } 
    
    public function generar($codigoPeriodo) {
        $em = $this->getEntityManager();
        $arSeguridadSocialPeriodo = new \Brasa\RecursoHumanoBundle\Entity\RhuSeguridadSocialPeriodo();
        $arSeguridadSocialPeriodo = $em->getRepository('BrasaRecursoHumanoBundle:RhuSeguridadSocialPeriodo')->find($codigoPeriodo);
        $intDiaFinal = date("d",(mktime(0,0,0,$arSeguridadSocialPeriodo->getMes() +1,1,$arSeguridadSocialPeriodo->getAnio())-1));
        return true;
    }
}